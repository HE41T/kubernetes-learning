# Kubernetes Labels ‡πÅ‡∏•‡∏∞ Selectors ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?

**Labels** ‡πÅ‡∏•‡∏∞ **Selectors** ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Pod ‡πÉ‡∏ô
Kubernetes\
‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢‡πÜ:

-   **Labels = Post-it** ‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏∞‡∏ö‡∏ô Pod\
-   **Selectors = ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á** ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏°‡∏≠‡∏á‡∏´‡∏≤ Pod ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡πâ‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

------------------------------------------------------------------------

## 1. Labels (‡∏õ‡πâ‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠) ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?

Labels ‡∏Ñ‡∏∑‡∏≠ **Key-Value Pair** ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏ö‡∏ô Pod ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ Pod
‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£

### ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á Labels

-   **‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ** --- Pod 100 ‡∏ï‡∏±‡∏ß‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏°‡∏µ label ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô
    `app: nginx`
-   **‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡πâ‡∏≤‡∏¢‡πÑ‡∏î‡πâ** --- Pod ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏°‡∏µ label ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏±‡∏ô ‡πÄ‡∏ä‡πà‡∏ô:
    -   `app: backend`
    -   `env: production`
    -   `version: v1`

------------------------------------------------------------------------

## 2. Selectors (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å) ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?

‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Pod ‡πÉ‡∏ô Kubernetes: - ‡πÄ‡∏Å‡∏¥‡∏î-‡∏î‡∏±‡∏ö‡∏ï‡∏•‡∏≠‡∏î - IP ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

‡πÄ‡∏£‡∏≤‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πâ‡∏≤‡∏á Pod ‡∏î‡πâ‡∏ß‡∏¢ IP ‡πÑ‡∏î‡πâ ‚Üí ‡∏à‡∏∂‡∏á‡πÉ‡∏ä‡πâ **Selectors** ‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤
"‡∏à‡∏∞‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö Pod ‡∏ó‡∏µ‡πà‡∏°‡∏µ label ‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô"

------------------------------------------------------------------------

## 3. ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á YAML ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Labels & Selectors

``` yaml
apiVersion: v1
kind: Service
metadata:
   name: sp-neo4j-standalone
spec:
   ports:
      - port: 7474
        name: neo4j
   type: NodePort
   selector:
      app: salesplatform
      component: neo4j
```

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢

Service ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏™‡πà‡∏á traffic ‡πÑ‡∏õ‡∏¢‡∏±‡∏á **‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Pod ‡∏ó‡∏µ‡πà‡∏°‡∏µ Labels ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏≠‡∏±‡∏ô**:

-   `app: salesplatform`
-   `component: neo4j`

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà

  Pod         Labels                               Service ‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ?
  ----------- ------------------------------------ --------------------
  **Pod A**   app=salesplatform, component=neo4j   ‚úÖ ‡πÉ‡∏ä‡πà
  **Pod B**   app=salesplatform                    ‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà
  **Pod C**   app=other, component=neo4j           ‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà

------------------------------------------------------------------------

## 4. ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á Selectors

### üîπ Equality-based selectors

‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: `=` ‡∏´‡∏£‡∏∑‡∏≠ `!=`\
‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: - `env = production`\
- `version != v2`

### üîπ Set-based selectors

‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: `in`, `notin`, `exists`\
‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: - `env in (production, staging)` - `tier notin (frontend)` -
`region exists`

------------------------------------------------------------------------

## üí° ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

-   **Labels** = ‡∏õ‡πâ‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏∞‡πÉ‡∏´‡πâ Pod

-   **Selectors** = ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏±‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡πà‡∏≤ Service / Deployment ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Pod
    ‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô

-   ‡πÄ‡∏ß‡∏•‡∏≤ Service *‡∏¢‡∏¥‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤* ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏∑‡∏≠:

    ‚û§ **Selector ‡πÉ‡∏ô Service ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Labels ‡πÉ‡∏ô Pod ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà**

‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ú‡∏¥‡∏î‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß = Service ‡∏´‡∏≤ Pod ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!

------------------------------------------------------------------------
