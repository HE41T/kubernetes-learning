# Kubernetes Namespace ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?

**Namespace** ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏•‡πÑ‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á Kubernetes Cluster ‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô "‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡πà‡∏≠‡∏¢"
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£ ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î

-   **Cluster = ‡∏ï‡∏∂‡∏Å‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î**
-   **Namespace = ‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡πâ‡∏≠‡∏á**

------------------------------------------------------------------------

## 1. ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Namespace?

### üîπ 1) ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏ô‡∏Å‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏ä‡∏∑‡πà‡∏≠ (Name Collision)

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: - ‡∏ó‡∏µ‡∏° A ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠ Pod ‡∏ß‡πà‡∏≤ `web-server` - ‡∏ó‡∏µ‡∏° B ‡∏Å‡πá‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠
`web-server`

‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Namespace ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô --- ‚ùå ‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (‡∏ä‡∏∑‡πà‡∏≠‡∏ã‡πâ‡∏≥)\
‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô `team-a` ‡πÅ‡∏•‡∏∞ `team-b` --- ‚úÖ ‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏™‡∏ö‡∏≤‡∏¢

‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô **‡∏´‡πâ‡∏≠‡∏á 101 ‡πÅ‡∏•‡∏∞ 102 ‡∏à‡∏∞‡∏°‡∏µ "‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ã‡∏ü‡∏≤" ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà**

------------------------------------------------------------------------

### üîπ 2) ‡πÅ‡∏ö‡πà‡∏á‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£ (Resource Separation)

‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏¢‡∏Å environment ‡πÄ‡∏ä‡πà‡∏ô: - `dev` - `test` - `prod`

‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Resource Quota ‡πÄ‡∏ä‡πà‡∏ô:

-   dev ‡πÉ‡∏ä‡πâ CPU ‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 2 core
-   prod ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ RAM ‡πÄ‡∏Å‡∏¥‡∏ô 8GB

------------------------------------------------------------------------

## 2. ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Namespace

### ‚ñ∂Ô∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á Namespace ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå YAML

``` bash
kubectl create -f namespace.yml
```

> ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô\
> `kind: Namespace` ‚úî\
> ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà `kind: Namespce` ‚ùå

------------------------------------------------------------------------

### ‚ñ∂Ô∏è ‡∏î‡∏π Namespace ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

``` bash
kubectl get namespace
```

‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏Å‡πÄ‡∏´‡πá‡∏ô: - default\
- kube-system\
- kube-public\
- elk (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏á)

------------------------------------------------------------------------

### ‚ñ∂Ô∏è ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞ namespace

``` bash
kubectl get namespace <name>
```

### ‚ñ∂Ô∏è ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å

``` bash
kubectl describe namespace <name>
```

------------------------------------------------------------------------

### ‚ö†Ô∏è ‚ñ∂Ô∏è ‡∏•‡∏ö Namespace

``` bash
kubectl delete namespace <name>
```

**‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡∏°‡∏≤‡∏Å!**\
‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡∏•‡∏ö‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô namespace ‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ: - Pod\
- Service\
- PVC\
- ConfigMap\
- Secret\
- ‡∏Ø‡∏•‡∏Ø

‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô **‡∏ó‡∏∏‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏¥‡πâ‡∏á** ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö

------------------------------------------------------------------------

## 3. ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Namespace ‡πÉ‡∏ô Resource (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Service)

``` yaml
apiVersion: v1
kind: Service
metadata:
   name: elasticsearch
   namespace: elk       # Service ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ô namespace elk
   labels:
      component: elasticsearch
spec:
   # ...
```

### ‡∏à‡∏∏‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:

-   `namespace: elk` ‚Üí ‡∏ö‡∏≠‡∏Å Kubernetes ‡∏ß‡πà‡∏≤‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô namespace
    `elk`
-   ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà ‚Üí Kubernetes ‡∏à‡∏∞‡πÇ‡∏¢‡∏ô‡πÑ‡∏õ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô **default** ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

------------------------------------------------------------------------

## üí° ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô‡πÜ

  ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Namespace   ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
  ------------------------- -----------------------------------------
  ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ã‡πâ‡∏≥            ‡∏ó‡∏µ‡∏°/‡πÅ‡∏≠‡∏õ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠ Pod ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ
  ‡πÅ‡∏ö‡πà‡∏á Environment          dev, test, prod ‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
  ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£            ‡∏à‡∏≥‡∏Å‡∏±‡∏î CPU, RAM ‡∏ï‡πà‡∏≠ namespace
  ‡∏•‡∏ö‡∏á‡πà‡∏≤‡∏¢                    ‡∏•‡∏ö namespace ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏•‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

------------------------------------------------------------------------

## üß™ ‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏´‡∏°?

‡∏™‡∏£‡πâ‡∏≤‡∏á namespace ‡πÉ‡∏´‡∏°‡πà:

``` bash
kubectl create namespace my-space
```

‡∏•‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Pod ‡∏´‡∏£‡∏∑‡∏≠ Service ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏•‡∏¢‡∏ß‡πà‡∏≤ Namespace
‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö!

------------------------------------------------------------------------
